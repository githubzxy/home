define("common/data/PostLoad",["bui/common","bui/data","bui/mask"],function(r){function PostLoad(config){PostLoad.superclass.constructor.call(this,config),this._initProxy(),this._initEvent()}var BUI=r("bui/common"),Data=r("bui/data"),Mask=r("bui/mask");return PostLoad.ATTRS={el:{},loadMsg:{value:"数据处理中..."}},BUI.extend(PostLoad,Data.AbstractStore),BUI.augment(PostLoad,{_initProxy:function(){var _self=this,url=_self.get("url"),proxy=new Data.Proxy.Ajax({method:"post",url:url});_self.set("proxy",proxy)},_initEvent:function(){var _self=this,mask=new Mask.LoadMask({el:_self.get("el"),msg:_self.get("loadMsg")});_self.set("mask",mask),_self.on("beforeload",function(){mask.show()}),_self.on("exception",function(){mask.hide(),mask.destroy(),BUI.Message.Alert("网络连接出现问题，请联系管理员。","error")})},afterProcessLoad:function(){var mask=this.get("mask");mask.hide(),mask.destroy()}}),PostLoad});