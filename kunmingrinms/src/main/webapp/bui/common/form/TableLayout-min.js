define("common/form/TableLayout",["bui/common"],function(require){var BUI=require("bui/common"),Controller=BUI.Component.Controller;return Controller.extend({initializer:function(){var _self=this;_self.set("elTagName","table"),_self.set("elCls","tableLayout"),_self.set("children",_self._initTableContent())},_initTableContent:function(){var _self=this,colNum=2*_self.get("colNum"),remainColNum=colNum,formChildrens=_self.get("formChildrens");formChildrens=BUI.Array.map(formChildrens,function(elememt){return elememt.itemColspan?(elememt.itemColspan=2*elememt.itemColspan-1,elememt):(elememt.itemColspan=1,elememt)});var trArray=new Array,tr=_self._createTr();return BUI.Array.each(formChildrens,function(formChildren){tr.addChild(_self._createTh(formChildren)),tr.addChild(_self._createTd(formChildren)),(remainColNum-=formChildren.itemColspan)<=2&&(trArray.push(tr),tr=_self._createTr(),remainColNum=colNum)}),trArray},_createTr:function(){return new Controller({elTagName:"tr"})},_createTh:function(formChildren){return new Controller({elTagName:"th",content:this._getLabel(formChildren)})},_createTd:function(formChildren){var td=new Controller({elTagName:"td",elAttrs:{colspan:formChildren.itemColspan}}),div=new Controller({elTagName:"div",content:formChildren.item});return td.addChild(div),td},_getLabel:function(item){var itemLabel=item.label;return item.redStarFlag?"<s>*</s>"+itemLabel:"&ensp;"+itemLabel}},{ATTRS:{colNum:{value:1},formChildrens:{}}})});