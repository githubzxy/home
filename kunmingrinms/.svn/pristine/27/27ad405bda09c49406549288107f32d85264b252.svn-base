define("common/org/OrganizationPicker",["bui/overlay","bui/data","bui/tree"],function(require){var Overlay=require("bui/overlay").Overlay,Data=require("bui/data"),Tree=require("bui/tree");return Overlay.extend({initializer:function(){var _self=this,orgTree=_self._initTree();_self.addChild(orgTree)},_initTree:function(){var _self=this,treeStore=new Data.TreeStore({root:{id:_self.get("rootOrgId"),text:_self.get("rootOrgText")},url:_self.get("url"),proxy:{method:"post",dataType:"json"},map:{name:"text",isdept:"leaf"}});treeStore.load({id:_self.get("rootOrgId")});var tree=new Tree.TreeList({id:"common-orgpicker",store:treeStore,showRoot:_self.get("showRoot"),checkType:"custom",showLine:!0,cascadeCheckd:!1,width:_self.get("width"),height:_self.get("height")});return _self.set("commonTreeStore",treeStore),tree},load:function(param){var store=this.get("commonTreeStore");store&&store.load(param)},bindUI:function(){var _self=this;_self.getChild("common-orgpicker").on("itemselected",function(ev){_self.fire("orgSelected",{org:ev.item}),_self.hide()})}},{ATTRS:{rootOrgId:{},rootOrgText:{},url:{},width:{value:200},height:{value:200},showRoot:{value:!0},events:{value:{orgSelected:!0}}}})});